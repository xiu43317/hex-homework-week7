import{_ as p,r,o as l,c as v,a,b as t,w as o,d as h,e as _,f as k,F as m,g as n}from"./index-hwFi2sDP.js";const b="https://vue3-course-api.hexschool.io/v2",g={data(){return{checkSuccess:!1}},methods:{checkLogin(){const c=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");this.$http.defaults.headers.common.Authorization=c,this.$http.post(`${b}/api/user/check`).then(e=>{this.checkSuccess=!0}).catch(e=>{console.dir(e),alert(e.response.data.message),this.$router.push("/login")})},signOut(){document.cookie="hexToken=;expires=;",alert("已登出"),this.$router.push("/login")}},mounted(){this.checkLogin()}},f={class:"navbar navbar-expand-lg navbar-dark bg-dark"},x={class:"container-fluid"},$=a("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarNavAltMarkup","aria-controls":"navbarNavAltMarkup","aria-expanded":"false","aria-label":"Toggle navigation"},[a("span",{class:"navbar-toggler-icon"})],-1),N={class:"collapse navbar-collapse",id:"navbarNavAltMarkup"},w={class:"navbar-nav"},A={class:"navbar-nav ms-auto"};function B(c,e,C,M,i,d){const s=r("router-link"),u=r("router-view");return l(),v(m,null,[a("nav",f,[a("div",x,[t(s,{to:"/admin/products",class:"navbar-brand"},{default:o(()=>[n("後臺系統")]),_:1}),$,a("div",N,[a("div",w,[t(s,{to:"/admin/products",class:"nav-link"},{default:o(()=>[n("產品列表")]),_:1}),t(s,{to:"/admin/coupons",class:"nav-link"},{default:o(()=>[n("優惠券")]),_:1}),t(s,{to:"/admin/orders",class:"nav-link"},{default:o(()=>[n("訂單")]),_:1}),t(s,{to:"/admin/articles",class:"nav-link"},{default:o(()=>[n("新增文章")]),_:1}),a("a",{class:"nav-link",href:"#",onClick:e[0]||(e[0]=h(T=>d.signOut(),["prevent"]))},"登出")]),a("div",A,[t(s,{to:"/products",class:"nav-link"},{default:o(()=>[n("回前台")]),_:1})])])])]),i.checkSuccess?(l(),_(u,{key:0})):k("",!0)],64)}const S=p(g,[["render",B]]);export{S as default};
